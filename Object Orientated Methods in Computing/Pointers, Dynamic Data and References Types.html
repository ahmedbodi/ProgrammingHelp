<html>
<head>
  <title>Pointers, Dynamic Data and References Types</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="466"/>
<h1>Pointers, Dynamic Data and References Types</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>26/04/2017 18:25</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>26/04/2017 18:44</i></td></tr>
<tr><td><b>Author:</b></td><td><i>ahmedbodi@crypto-expert.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>A ponter variable is a variable whose value is the address of a location in memory. To declare a pointer variable, you must specify the type of value that the pointer will point to e.g. int, char, string etc. </div><div><br/></div><div>Operators:</div><div><span>    - *</span><br/></div><div><span><span>    <span>    - The * denotes referencing a pointer in order to get the value that is pointed to </span></span><br/></span></div><div><span><span><span><span>    - new </span><br/></span></span></span></div><div><span><span><span><span><span>    - delete</span><br/></span></span></span></span></div><div><span><span><span><span><span><span>    - NULL</span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><br/></span></span></span></span></span></span></div><div><span><span><span>In C/C++ a function itself is not a variable, but a pointer to a function can be created. An example of this would be:</span></span></span></div><div><span><span><span><span>    - int (*comp) (void*, void*); </span><br/></span></span></span></div><div><span><span><span><span><span>    <span>    - comp is a pointer to a function which returns an int and takes to void type pointer arguments. </span></span><br/></span></span></span></span></div><div><br/></div><div>Function objects:</div><div><span>    - A function object is an object of a template class that has a single member function called the overloaded operator “()”. It is also possible to use user-written functions in place of pre-function objects</span><br/></div><div><span><br/></span></div><div><span>References:</span></div><div><span><span>    - C++ reference is short hand for const pointer (*cont)</span><br/></span></div><div><span><span><span>    <span>    - int &amp;r1 = x; is the same as int* const r1 = &amp;x</span></span><br/></span></span></div><div><span><span><span><span><span>    - References must be initialised at declaration and can’t change</span><br/></span></span></span></span></div><div><span><span><span><span><span><span>    - Referencing and dereferencing are implicitly done by C++</span></span></span></span></span></span></div><div><span><span><span><span><span><span><span>    - Address of reference its target’s address</span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - Useful for functions with pass-by-reference</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    - Reference variables are primary used as function parameters</span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    - Advantages:</span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    - You don’t have to pass the address of a variable</span></span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - You don’t have to dereference the variable inside the called function</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Pointers:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - When passing pointers to functions as arguments, arguments are passed by value, so only a copy is required</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Parameter Passing:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Pass by value:</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Example int add(int a, int b)</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Make a local copy of a and b</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Pass by pointer</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Example int add(int *a, int *b)</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Pass pointers that reference a and b. any changes made to either arguments will be reflected outside the add routine</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Pass by reference</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Example int add(int &amp;a, </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>int &amp;b)</div><div><br/></div><div>Passing classes as parameters:</div><div><span>    - If a class instance aka an object is passed by value the copy constructor will be used to make a copy. This is computationally expensive.</span><br/></div><div><span><span>    <span>    - Example bool IsImageGreen(Image img)</span></span><br/></span></div><div><span><span>    - Its much faster to pass by reference</span><br/></span></div><div><span><span><span>    <span>    - By Pointer:</span></span><br/></span></span></div><div><span><span><span><span><span>    <span>    <span>    - bool IsImageGreen (Image *img)</span></span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    <span>    - By Reference:</span></span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    - bool IsImageGreen (Image &amp;img)</span></span></span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>Dynamic Memory Allocation:</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - In C and C++, three types of memory are used by programs</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Static </span>memory<br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Where global and static variables live</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Heap memory</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Dynamicaly allocated at execution time, managed memory access using pointers</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Stack memory</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Used by stack variables</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><br/></span></span></div><div><span><span>Types of program data:</span></span></div><div><span><span><span>    - Static Data</span><br/></span></span></div><div><span><span><span><span>    <span>    - Allocated at compiler time</span></span><br/></span></span></span></div><div><span><span><span><span><span><span>    - Dynamic data</span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><span>    <span>    - Explicitly allocated and deallocated during program execution by C++ instructions using operators new and delete</span></span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    - Automatic data</span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    <span>    - automatically created at function entry, resides in activation frame of the function and is destroyed when returning from function. </span></span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>Dynamic Memory Allocation:</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    - In C++, this is accomplished using new and delete operators. </span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - New is used to allocate memory during execution time</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Returns a pointer to the address where the object is to be stored</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Always returns a pointer to the type that follows new</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - If memory is available, in an area called the heap (or free store) new allocates the requested object or array and returns a pointer to the address of the memory </span></span>allocated<br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Otherwise the program terminates with an error message</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - The dynamically </span></span>allocated object exists until the delete operator destroys it<br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - NULL Pointer</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - There is a pointer constant called the null pointer denoted by NULL</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - But NULL is not memory address is not 0</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Trying to dereference a pointer will cause a crashed program</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - The Delete Operator<span>    </span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - The object or array currently pointed to by pointer is deallocated and the value of the pointer is undefined. The memory is returns to the free store.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - It is a good idea to set the pointer to the released memory to NULL.</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Square brackets are used after the delete operator to deallocate dynamically allocated array. </span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><br/></div></span>
</div></body></html> 