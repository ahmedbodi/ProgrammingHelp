<html>
<head>
  <title>Object Persitence and Object Relational Mapping</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="459"/>
<h1>Object Persitence and Object Relational Mapping</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>26/04/2017 19:22</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>26/04/2017 19:43</i></td></tr>
<tr><td><b>Author:</b></td><td><i>ahmedbodi@crypto-expert.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>Goal:</div><div><span>    - Applications need to save data to persistent storage</span><br/></div><div><span><span>    - Persistent storage can be database, directory service, XML files, spreadsheet</span><br/></span></div><div><span><span><span>    - For OO programming, we’d like to save and retrieve objects to/from storage</span><br/></span></span></div><div><span><span><span><br/></span></span></span></div><div><span><span><span>When not to use ORM:</span></span></span></div><div><span><span><span><span>    - In some </span>applications, Object Relational mapping is inefficient<br/></span></span></span></div><div><span><span><span><br/></span></span></span></div><div><span><span><span>Approaches to ORM:</span></span></span></div><div><span><span><span><span>    - No ORM — JDBC in my code</span><br/></span></span></span></div><div><span><span><span><span><span>    <span>    - No layers, put the JDBC right in your app </span></span>code<br/></span></span></span></span></div><div><span><span><span><span><span><span><span>    - Do it Myself</span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    <span>    - Write your own DAO using JDBC</span></span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    - Use a framework</span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Hibernate, TopLink etc</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Use a </span>standard<br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Java Persistence Architecture (JPA) or Java Data Objects (JDO) provide a standard API that have many implementations. </span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span>The problem with databases:</span></span></span></div><div><span><span><span><span>    - Database stores data as rows in tables, which are not like objects</span><br/></span></span></span></div><div><span><span><span><span><span>    - Objects have associations and collections databases have relations between tables</span><br/></span></span></span></span></div><div><span><span><span><span><span><span>    - Objects are unique, database row is copied each time you query it</span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span>Object Relational </span></span></span></span></span></span>mapping</div><div><span>    - Map between an object and a row in a database table</span><br/></div><div><span>    - Purpose</span><br/></div><div><span><span>    <span>    - Save object as a row in a database table</span></span><br/></span></div><div><span><span><span><span>    <span>    - Create object using data from table</span></span><br/></span></span></span></div><div><span><span><span><span><span><span>    <span>    - Save and create associations between objects</span></span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - Design goals</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    - Separate Object Relational mapping service from our application</span></span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Localise the impact of change in our database</span></span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    </span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>Transparent Persistence</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>- Changes to a managed object are automatically populated to the database</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>ORM mapping of n-to-1 associations</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span> The ORM converts a n-to-1 association to a foreign key relation (persist) or foreign key to object (retrieve)</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Association class as part of a model:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Sometimes the association has modelling significance</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - An attendee has a collection of registrations</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Frameworks provide cascading. In JPA using annotations by adding cascade=PERSIST  to a class entity. When using C# nHibernate, this is done in the mapping file. </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><br/></div></span>
</div></body></html> 