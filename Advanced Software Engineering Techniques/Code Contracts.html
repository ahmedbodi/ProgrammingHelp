<html>
<head>
  <title>Code Contracts</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="483"/>
<h1>Code Contracts</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>25/04/2017 19:37</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>25/04/2017 20:40</i></td></tr>
<tr><td><b>Author:</b></td><td><i>ahmedbodi@crypto-expert.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>.NET class library supporting specification of classes / methods</div><div><span>    - Pre-Conditions</span><br/></div><div><span><span>    - Post-Conditions</span><br/></span></div><div><span><span><span>    - Invariants</span><br/></span></span></div><div><span><span><span><br/></span></span></span></div><div>Code Contracts and interfaces:</div><div><span>    - A contract needs to be inside a method</span></div><div><span><span>    - Due to this contracts are placed inside an abstract class linked to an interface which is inherited from. </span><br/></span></div><div><span>    - Inheritance of the specification allows us to strength the post-conditions (provide a better service)</span><br/></div><div><span><span>    - Code Contracts doesn’t allow us to weaken the pre-conditions</span><br/></span></div><div><span><span><span>    <span>    - If the method had no pre-condition defined on the interface it is assumed to be Requires(True)</span></span><br/></span></span></div><div><span><span><span><span><br/></span></span></span></span></div><div><span><span><span><span>A code contracts specification is a model</span></span></span></span></div><div><span><span><span><span><span>    - Represents interesting features of a real system</span><br/></span></span></span></span></div><div><span><span><span><span><span><span>    <span>    - Functional aspects of its behaviour but not performance</span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span>Code Contracts models are mathematical abstractions</span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - UML Models are diagrams</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>Code Contracts models ideally specify abstract </span></span></span></span></span></span></span></span>behaviour</div><div><span><span><span><span><span><span><span><span><span>    - Independent of implementation </span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    - An implementation will realise a specification</span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Must verify it satisfies the model</span></span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>Visibility of attributes:</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - When creating a specification, attributes are used to store parts of the state</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span> </span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Should the attribute be visible to user:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Making all attributes public is bad form (Information hiding is part of OO)</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Plus we would be revealing details of our implementation</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Relating the before and after values of the state in the post-condition requires the variables to be visible</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Users of the class need to understand the specification</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - With code contracts, attributes mentioned in pre-conditions must be visible to anyone calling the method</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Attributes mentioned in post-conditions must be visible to any implementation of the method<span>    </span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Thus private state variables will not be visible to specifications of public methods and cause compiler error</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Model based specification:</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Defining behaviour using existing classes</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Defina a model of desired behaviour</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Only use special classes</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Immutable: can’t be changed</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    - Pur methods: no side-effects</span></span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Mathematically well defined</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Accept implementations matching model</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>Standard mathematical models:</div><div><span>    - Set:</span><br/></div><div><span><span>    <span>    - Unordered collection, items occur at most once</span></span><br/></span></div><div><span><span><span><span>    - Bag</span><br/></span></span></span></div><div><span><span><span><span><span>    <span>    - Unordered collection, items counted</span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span>    - Sequence</span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    <span>    - Ordered collection, multiple occourances</span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    - Map</span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Set of pairs, linking unique to key information</span></span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Relation</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Set of records, each record with named fields</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><br/></div></span>
</div></body></html> 