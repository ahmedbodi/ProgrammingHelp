<html>
<head>
  <title>Threads</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="501"/>
<h1>Threads</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>25/04/2017 12:32</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>25/04/2017 13:07</i></td></tr>
<tr><td><b>Author:</b></td><td><i>ahmedbodi@crypto-expert.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>What is a thread:</div><div><span>    - Part of a gram that can run in parallel with other programs</span><br/></div><div><span><span>    <span>    - Multiple processors</span></span><br/></span></div><div><span><span><span><span>    <span>    - A section at a time on single processor</span></span><br/></span></span></span></div><div><span><span><span><span><span><span>    - Share instance variables</span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><span>    <span>    - Not local variables</span></span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    - A class with a run() method</span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    <span>    - A direct descendent of Thread overriding run()</span></span><br/></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - A thread passed a class implementing Runnable</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    - which means that the class provides a run() method</span></span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>The life of a thread</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Created</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Ready</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Running</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>   <span> <span>    - Blocked</span></span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Back to ready</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Finished</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>Thread Priority:</div><div><span>    - Threads inherit the creator’s priority</span><br/></div><div><span><span>    <span>    - getPriority(), setPriority()</span></span><br/></span></div><div><span><span><span><span>    <span>    - MIN_PRIORITY … MAX_PRIORITY<span>   </span></span></span></span></span></span></div><div><span><span><span><span><span><span><span>    - Threads with higher priority have a higher preference</span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - Priority Inversion</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    - Low priority task holds shared resource</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    - Resource required by a high priority task</span></span></span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    - Medium priority task blocks both</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Threads may be switched between instructions</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span> <span>    - Time-slicing</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - A higher priority waiting thread becomes ready</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Instance variables are shared by threads</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>One thread can modify a variable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Will anchor thread to see the new value</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>The compiler can optimise variable access</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Caching values into registers</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Other thread</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>s can see old values</div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>When writing a variable that may be read by another thread or reading a variable that may have been written by </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>anchor thread, you must synchronise</div><div><br/></div><div>Java Thread methods:</div><div><span>    - Sleep(long milliseconds)</span><br/></div><div><span><span>    <span>    - Suspend the task for a fixed period</span></span><br/></span></div><div><span><span><span><span>   <span>     - Unless interrupted</span></span><br/></span></span></span></div><div><span><span><span><span><span><span>    <span>    - Keeps hold of the monitor</span></span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - Interrupt()</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    - Interrupt the task (stops waiting and sleeps)</span></span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    - Join()</span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Wait for the thread to finish</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Suspend() / stop()</span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Deprecated, may deadlock if the thread holds a lock</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>Stopping a thread:</div><div><span>    - Advantages of allowing a thread to tidy up</span><br/></div><div><span><span>    - Disadvantage because the thread may not stop immediately </span><br/></span></div><div><span><span><br/></span></span></div><div><span><span>Java provided mutual exclusion through</span></span></div><div><span><span><span>    - Synchronised statement</span><br/></span></span></div><div><span><span><span><span>    - Synchronised method</span><br/></span></span></span></div><div><span><span><span><span><br/></span></span></span></span></div><div><span><span><span><span>General synchronisation is provided through</span></span></span></span></div><div><span><span><span><span><span>    - Wait</span><br/></span></span></span></span></div><div><span><span><span><span><span><span>    - Notify</span><br/></span></span></span></span></span></div><div><span>    - NotifyAll</span></div><div><span><br/></span></div><div><span>Don’t stop a task directly</span></div><div><span><span>    - Give it a chance to tidy up and free locks and resources</span><br/></span></div><div><br/></div><div><br/></div></span>
</div></body></html> 