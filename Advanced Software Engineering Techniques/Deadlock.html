<html>
<head>
  <title>Deadlock</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="495"/>
<h1>Deadlock</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>25/04/2017 15:05</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>25/04/2017 16:29</i></td></tr>
<tr><td><b>Author:</b></td><td><i>ahmedbodi@crypto-expert.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>Deadlock is when a group of threads can’t proceed</div><div><span>    - Each thread is holding a resource</span></div><div><span><span>    - Each thread needs a resource held by another one</span><br/></span></div><div><span><span><span>    - No thread will give up a resource</span><br/></span></span></div><div><span><span><span><br/></span></span></span></div><div><span><span><span>Why is it a difficult problem:</span></span></span></div><div><span><span><span><span>    - It will occur intermittently</span><br/></span></span></span></div><div><span><span><span><span><span>    <span>    - Depends on random occourances of events</span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span>    <span>    <span>    - Different timing - it won’t </span></span></span>occur<br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>    - Difficult to debug</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>Try to design deadlock out of the system</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>Conditions for deadlock<span>    </span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    - Mutual Exclusion</span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Resources can’t be shared</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Hold and wait</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Keep resources when requesting others</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - No pre-emption</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Resource only given up pre-emptively</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Circular wait</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    <span>    - Several threads from a circular chain where each waits for a resource held by the next one</span></span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>Preventing one of these prevents deadlock</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>Only access resources in a fixed order:</div><div><span>    - Each resource has a number</span><br/></div><div><span><span>    - Cant request resource if you hold a higher number one</span><br/></span></div><div><span><span><span>    - Advantages</span><br/></span></span></div><div><span><span><span><span>    <span>    - Simple</span></span></span></span></span></div><div><span><span><span><span><span><span>    <span>    - No need for a centralised manager</span></span><br/></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span>    - Disadvantages</span><br/></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    - May request resources long before they’re used</span></span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>Nested monitor deadlock:</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>A mentor is a collection of functions where only one of the functions can be executed at a time. A java object with synchronised methods is a monitor. </span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>Starvation and Fairness</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span>Starvation</span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    - A process gets no chance to progress</span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>Fairness</span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>    - Each thread gets a chance to make progress</span><br/></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>Livelock and deadlock</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>Deadlock:</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Two (or more) threads waiting for other(s)</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>LiveLock:</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    - Two (or more) threads running but unable to make progress because of others</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><br/></div></span>
</div></body></html> 